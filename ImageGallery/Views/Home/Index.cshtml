@model Album[]
<div class="header">
    <h1 class="center-cell">Albums</h1>  
    <span></span>
    <span class="image-button center-cell" id="js-add" title="Add new album">
        <i class="fas fa-plus-square"></i>
    </span>
</div>
@if (Model.Length == 0)
{
    <div class="center" id="add-album-tutorial">
        <h2>Press</h2>
        <span class="image-button"><i class="fas fa-plus-square"></i></span>
        <h2>to add albums</h2>
    </div>
    <script>
        let tutorialAdd = document.getElementById('add-album-tutorial');
        tutorialAdd.addEventListener('click', function () {
            window.location.href = '@ViewData["AddUrl"]';
        });</script>
}
else
{
    @for (int i = 0; i < Model.Length; i++) 
    {
        var album = Model[i];
        <a href="/Album/@album.Id">
        @if (i == 0) {
            <h2 class="top-header">@album.Name</h2>
        } else {
            <h2>@album.Name</h2>
        }
        </a>
        @*TODO: reuse in component? Only if same as in album vie*@
        @if (album.Images.Count == 0)
        {
            <a href="/Album/@album.Id/Add"><h3>Add photos using <i class="fas fa-plus-square"></i></h3></a>
        }
        else
        {
            <div class="gallery-preview">
                @foreach (var image in album.Images)
                {
                    <div class="photo">
                        <a href="/Album/@album.Id">
                            <img class="lazyload" src="/PreRender/@image.Width/@image.Height" data-src="/Thumbnail/@album.Id/@image.Id" />
                        </a>
                    </div>
                }
            </div>
        }
    }
}

